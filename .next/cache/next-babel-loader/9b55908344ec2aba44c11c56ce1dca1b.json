{"ast":null,"code":"var _jsxFileName = \"/home/thiago/Documentos/Dev/Projetos/fullstack-lab/components/ContaminatedMarker/index.js\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport './styles.css';\nimport VirusSvg from '../../public/assets/icons/virus.svg';\n\nconst ContaminatedMarker = ({\n  data\n}) => {\n  return __jsx(\"div\", {\n    className: `contaminated-marker ${data.status === 'covid' && 'covid'}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 8,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    className: \"contaminated-marker-popup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 11,\n      columnNumber: 7\n    }\n  }, __jsx(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 9\n    }\n  }, \" doidmias\")), __jsx(VirusSvg, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport async function getServerSideProps({\n  req,\n  res\n}) {\n  const session = await auth0.getSession(req);\n\n  if (session) {\n    req.user = session.user;\n    const userId = session.user.sub;\n    const symptomsHistory = await db.collection('users').doc(userId).collection('history').get();\n    const historyList = [];\n    symptomsHistory.docs.map(item => {\n      historyList.push({\n        date: item.id,\n        status: item.data().status,\n        symptoms: item.data().symptoms\n      });\n    });\n    console.log(symptomsHistory.docs);\n    return {\n      props: {\n        isAuth: true,\n        user: session.user,\n        history: historyList\n      }\n    };\n  }\n\n  return {\n    props: {\n      isAuth: false\n    }\n  };\n}\nexport default ContaminatedMarker;","map":{"version":3,"sources":["/home/thiago/Documentos/Dev/Projetos/fullstack-lab/components/ContaminatedMarker/index.js"],"names":["React","VirusSvg","ContaminatedMarker","data","status","getServerSideProps","req","res","session","auth0","getSession","user","userId","sub","symptomsHistory","db","collection","doc","get","historyList","docs","map","item","push","date","id","symptoms","console","log","props","isAuth","history"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,cAAP;AAEA,OAAOC,QAAP,MAAqB,qCAArB;;AAEA,MAAMC,kBAAkB,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAc;AACvC,SACE;AACE,IAAA,SAAS,EAAG,uBAAsBA,IAAI,CAACC,MAAL,KAAgB,OAAhB,IAA2B,OAAQ,EADvE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAGE;AAAK,IAAA,SAAS,EAAC,2BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,CAHF,EAME,MAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANF,CADF;AAUD,CAXD;;AAaA,OAAO,eAAeC,kBAAf,CAAkC;AAAEC,EAAAA,GAAF;AAAOC,EAAAA;AAAP,CAAlC,EAAgD;AACrD,QAAMC,OAAO,GAAG,MAAMC,KAAK,CAACC,UAAN,CAAiBJ,GAAjB,CAAtB;;AAEA,MAAIE,OAAJ,EAAa;AACXF,IAAAA,GAAG,CAACK,IAAJ,GAAWH,OAAO,CAACG,IAAnB;AACA,UAAMC,MAAM,GAAGJ,OAAO,CAACG,IAAR,CAAaE,GAA5B;AAEA,UAAMC,eAAe,GAAG,MAAMC,EAAE,CAC7BC,UAD2B,CAChB,OADgB,EAE3BC,GAF2B,CAEvBL,MAFuB,EAG3BI,UAH2B,CAGhB,SAHgB,EAI3BE,GAJ2B,EAA9B;AAMA,UAAMC,WAAW,GAAG,EAApB;AAEAL,IAAAA,eAAe,CAACM,IAAhB,CAAqBC,GAArB,CAA0BC,IAAD,IAAU;AACjCH,MAAAA,WAAW,CAACI,IAAZ,CAAiB;AACfC,QAAAA,IAAI,EAAEF,IAAI,CAACG,EADI;AAEfrB,QAAAA,MAAM,EAAEkB,IAAI,CAACnB,IAAL,GAAYC,MAFL;AAGfsB,QAAAA,QAAQ,EAAEJ,IAAI,CAACnB,IAAL,GAAYuB;AAHP,OAAjB;AAKD,KAND;AAQAC,IAAAA,OAAO,CAACC,GAAR,CAAYd,eAAe,CAACM,IAA5B;AAEA,WAAO;AACLS,MAAAA,KAAK,EAAE;AACLC,QAAAA,MAAM,EAAE,IADH;AAELnB,QAAAA,IAAI,EAAEH,OAAO,CAACG,IAFT;AAGLoB,QAAAA,OAAO,EAAEZ;AAHJ;AADF,KAAP;AAOD;;AAED,SAAO;AACLU,IAAAA,KAAK,EAAE;AACLC,MAAAA,MAAM,EAAE;AADH;AADF,GAAP;AAKD;AAED,eAAe5B,kBAAf","sourcesContent":["import React from 'react';\nimport './styles.css';\n\nimport VirusSvg from '../../public/assets/icons/virus.svg';\n\nconst ContaminatedMarker = ({ data }) => {\n  return (\n    <div\n      className={`contaminated-marker ${data.status === 'covid' && 'covid'}`}\n    >\n      <div className=\"contaminated-marker-popup\">\n        <h2> doidmias</h2>\n      </div>\n      <VirusSvg />\n    </div>\n  );\n};\n\nexport async function getServerSideProps({ req, res }) {\n  const session = await auth0.getSession(req);\n\n  if (session) {\n    req.user = session.user;\n    const userId = session.user.sub;\n\n    const symptomsHistory = await db\n      .collection('users')\n      .doc(userId)\n      .collection('history')\n      .get();\n\n    const historyList = [];\n\n    symptomsHistory.docs.map((item) => {\n      historyList.push({\n        date: item.id,\n        status: item.data().status,\n        symptoms: item.data().symptoms,\n      });\n    });\n\n    console.log(symptomsHistory.docs);\n\n    return {\n      props: {\n        isAuth: true,\n        user: session.user,\n        history: historyList,\n      },\n    };\n  }\n\n  return {\n    props: {\n      isAuth: false,\n    },\n  };\n}\n\nexport default ContaminatedMarker;\n"]},"metadata":{},"sourceType":"module"}