{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nvar _this = this,\n    _jsxFileName = \"/home/thiago/Documentos/Dev/Projetos/fullstack-lab/components/ContaminatedMarker/index.js\";\n\nvar __jsx = React.createElement;\nimport React from 'react';\nimport auth0 from '../../lib/auth0';\nimport './styles.css';\nimport VirusSvg from '../../public/assets/icons/virus.svg';\n\nvar ContaminatedMarker = function ContaminatedMarker(_ref) {\n  var data = _ref.data,\n      userId = _ref.userId;\n\n  if (data.id !== userId) {\n    return __jsx(\"div\", {\n      className: \"contaminated-marker \".concat(data.status === 'covid' && 'covid'),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 10,\n        columnNumber: 7\n      }\n    }, __jsx(\"div\", {\n      className: \"contaminated-marker-popup\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 13,\n        columnNumber: 9\n      }\n    }, __jsx(\"h2\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 14,\n        columnNumber: 11\n      }\n    }, \" \", data.id), __jsx(\"h2\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 16,\n        columnNumber: 11\n      }\n    }, \" \", userId)), __jsx(VirusSvg, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 18,\n        columnNumber: 9\n      }\n    }));\n  }\n};\n\nexport function getServerSideProps(_ref2) {\n  var req, res, session;\n  return _regeneratorRuntime.async(function getServerSideProps$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          req = _ref2.req, res = _ref2.res;\n          _context.next = 3;\n          return _regeneratorRuntime.awrap(auth0.getSession(req));\n\n        case 3:\n          session = _context.sent;\n\n          if (!session) {\n            _context.next = 7;\n            break;\n          }\n\n          req.user = session.user;\n          return _context.abrupt(\"return\", {\n            props: {\n              userId: session.user.sub\n            }\n          });\n\n        case 7:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, null, Promise);\n}\nexport default ContaminatedMarker;","map":{"version":3,"sources":["/home/thiago/Documentos/Dev/Projetos/fullstack-lab/components/ContaminatedMarker/index.js"],"names":["React","auth0","VirusSvg","ContaminatedMarker","data","userId","id","status","getServerSideProps","req","res","getSession","session","user","props","sub"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,iBAAlB;AACA,OAAO,cAAP;AAEA,OAAOC,QAAP,MAAqB,qCAArB;;AAEA,IAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,OAAsB;AAAA,MAAnBC,IAAmB,QAAnBA,IAAmB;AAAA,MAAbC,MAAa,QAAbA,MAAa;;AAC/C,MAAID,IAAI,CAACE,EAAL,KAAYD,MAAhB,EAAwB;AACtB,WACE;AACE,MAAA,SAAS,gCAAyBD,IAAI,CAACG,MAAL,KAAgB,OAAhB,IAA2B,OAApD,CADX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAGE;AAAK,MAAA,SAAS,EAAC,2BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAMH,IAAI,CAACE,EAAX,CADF,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAMD,MAAN,CAHF,CAHF,EAQE,MAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MARF,CADF;AAYD;AACF,CAfD;;AAiBA,OAAO,SAAeG,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAoCC,UAAAA,GAApC,SAAoCA,GAApC,EAAyCC,GAAzC,SAAyCA,GAAzC;AAAA;AAAA,2CACiBT,KAAK,CAACU,UAAN,CAAiBF,GAAjB,CADjB;;AAAA;AACCG,UAAAA,OADD;;AAAA,eAGDA,OAHC;AAAA;AAAA;AAAA;;AAIHH,UAAAA,GAAG,CAACI,IAAJ,GAAWD,OAAO,CAACC,IAAnB;AAJG,2CAMI;AACLC,YAAAA,KAAK,EAAE;AACLT,cAAAA,MAAM,EAAEO,OAAO,CAACC,IAAR,CAAaE;AADhB;AADF,WANJ;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAcP,eAAeZ,kBAAf","sourcesContent":["import React from 'react';\nimport auth0 from '../../lib/auth0';\nimport './styles.css';\n\nimport VirusSvg from '../../public/assets/icons/virus.svg';\n\nconst ContaminatedMarker = ({ data, userId }) => {\n  if (data.id !== userId) {\n    return (\n      <div\n        className={`contaminated-marker ${data.status === 'covid' && 'covid'}`}\n      >\n        <div className=\"contaminated-marker-popup\">\n          <h2> {data.id}</h2>\n\n          <h2> {userId}</h2>\n        </div>\n        <VirusSvg />\n      </div>\n    );\n  }\n};\n\nexport async function getServerSideProps({ req, res }) {\n  const session = await auth0.getSession(req);\n\n  if (session) {\n    req.user = session.user;\n\n    return {\n      props: {\n        userId: session.user.sub,\n      },\n    };\n  }\n}\n\nexport default ContaminatedMarker;\n"]},"metadata":{},"sourceType":"module"}