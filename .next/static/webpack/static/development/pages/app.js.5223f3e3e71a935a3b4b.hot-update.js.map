{"version":3,"file":"static/webpack/static/development/pages/app.js.5223f3e3e71a935a3b4b.hot-update.js","sources":["webpack:///./components/ContaminatedMarker/index.js"],"sourcesContent":["import React from 'react';\nimport auth0 from '../../lib/auth0';\nimport './styles.css';\n\nimport VirusSvg from '../../public/assets/icons/virus.svg';\n\nconst ContaminatedMarker = ({ data }) => {\n  return (\n    <div\n      className={`contaminated-marker ${data.status === 'covid' && 'covid'}`}\n    >\n      <div className=\"contaminated-marker-popup\">\n        <h2> doidmias</h2>\n      </div>\n      <VirusSvg />\n    </div>\n  );\n};\n\nexport async function getServerSideProps({ req, res }) {\n  const session = await auth0.getSession(req);\n\n  if (session) {\n    req.user = session.user;\n    const userId = session.user.sub;\n\n    const symptomsHistory = await db\n      .collection('users')\n      .doc(userId)\n      .collection('history')\n      .get();\n\n    const historyList = [];\n\n    symptomsHistory.docs.map((item) => {\n      historyList.push({\n        date: item.id,\n        status: item.data().status,\n        symptoms: item.data().symptoms,\n      });\n    });\n\n    console.log(symptomsHistory.docs);\n\n    return {\n      props: {\n        isAuth: true,\n        user: session.user,\n        history: historyList,\n      },\n    };\n  }\n\n  return {\n    props: {\n      isAuth: false,\n    },\n  };\n}\n\nexport default ContaminatedMarker;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAEA;AACA;AACA;AAAA;AACA;AAEA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AACA;AAFA;AAAA;AAAA;AAAA;AACA;AAGA;AACA;AALA;AAAA;AACA;AADA;AAOA;AAMA;AAEA;AACA;AACA;AACA;AACA;AAHA;AAKA;AAEA;AAvBA;AA0BA;AACA;AACA;AACA;AAHA;AADA;AACA;AA1BA;AAAA;AAmCA;AACA;AADA;AADA;AACA;AAnCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAyCA;;;;A","sourceRoot":""}